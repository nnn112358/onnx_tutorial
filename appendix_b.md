# 付録B よくある質問と用語集
### B.1 よくある質問
- **Q: ONNXに変換できないモデルはありますか？**  
  **A:** あります。特殊なカスタム演算を使っていたり、ONNXでまだサポートされていない最新のレイヤーを利用している場合は変換できないことがあります。その場合は、モデルを一部書き換えたり、カスタムオペレーターを実装したりして対処します。公式リポジトリのIssueを検索すると、同じ課題に取り組んでいる人の情報が見つかることがあります。
- **Q: 変換後に精度が下がったのですが、どうすればよいですか？**  
  **A:** まず、元モデルとONNXモデルで同じ入力を与え、出力がどの程度ずれているかを確認します。差が大きい場合は、各層の中間出力を比べて原因を特定します。量子化や最適化を行った場合は、その過程を一つずつ無効化していくと原因の切り分けがスムーズです。
- **Q: モデルサイズが大きすぎてアプリに組み込めません。**  
  **A:** 量子化や蒸留、構造の簡略化などを検討しましょう。ONNX Runtimeは分割実行（Partitioning）をサポートしており、CPUとGPUに処理を分けることも可能です。最終的には、モデルの再設計が必要になる場合もあります。

### B.2 用語集
- **オペレーター（Operator）**：ONNXで定義された演算単位。`Conv`や`Relu`のように、名前と属性で動作が決まります。
- **実行プロバイダ（Execution Provider）**：ONNX Runtimeが推論を実行するバックエンド。CPUやCUDA、TensorRT、DirectMLなど、ハードウェアや用途に応じて選択できます。
- **IR（Intermediate Representation）**：ONNXモデルの内部表現のバージョン番号。`ir_version`としてモデルに格納されます。
- **量子化（Quantization）**：重みやアクティベーションの数値精度を下げることでモデルを高速化・軽量化する手法。
- **動的軸（Dynamic Axis）**：バッチサイズやシーケンス長など、推論時に変化するテンソル次元を表します。ONNXでは`dynamic_axes`で指定します。

---

以上が「はじめてのONNX」の各章の内容概要です。各章を通じて、ONNXを使ったモデル移植・最適化・展開の流れを初心者でも体系的に理解できるよう構成しました。
